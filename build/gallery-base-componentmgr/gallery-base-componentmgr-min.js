YUI.add("gallery-base-componentmgr",function(b){
/*!
	 * Base Component Manager
	 * 
	 * Oddnut Software
	 * Copyright (c) 2010 Eric Ferraiuolo - http://eric.ferraiuolo.name
	 * YUI BSD License - http://developer.yahoo.com/yui/license.html
	 */
var d,f="requires",e="initializer",m="instance",h="initComponent",j="initComponents",i=b.Lang,g=i.isArray,a=i.isString,l=i.isObject,c=i.isFunction,k=function(){};d=function(){this._initComponentMgr.apply(this,arguments);};d._COMPONENT_CFG=[f,e,m];d.prototype={_components:null,_initComponentMgr:function(){this._components=new b.State();this._initComponentHierarchy();this.publish(h,{defaultFn:this._defInitComponentFn});this.publish(j,{defaultFn:this._defInitComponentsFn,fireOnce:true});if(this.get("initialized")){this.fire(j,{componentsToInit:[]});}else{this.after("initializedChange",function(n){this.fire(j,{componentsToInit:[]});});}},addComponent:function(p,o){if(!a(p)){return;}if(!l(o)){return;}var s=this._components,q=o.requires,r=o.initializer,n=o.instance;r=c(r)?r:a(r)&&c(this[r])?this[r]:k;s.add(p,f,q);s.add(p,e,r);s.add(p,m,n);},getComponent:function(n){return this._components.get(n,m);},useComponent:function(){var n=b.Array(arguments,0,true),r=c(n[n.length-1])?n[n.length-1]:k,o=r===k?n:n.slice(0,-1),p=[],q;if(o.length<1){r.call(this);return;}q=b.Array.partition(o,function(t){var s=this.getComponent(t);p.push(s);return s;},this);if(q.rejects.length>0){b.use.apply(b,this._getRequires(q.rejects).concat(b.bind(function(t){var s=[];t.Array.each(q.rejects,this._initComponent,this);t.Array.each(o,function(u){s.push(this.getComponent(u));},this);r.apply(this,s);},this)));}else{r.apply(this,p);}},_initComponentHierarchy:function(){var p=this._getClasses(),q={},n=d._COMPONENT_CFG,o,r;r=function(t,s){if(!q[s]){q[s]=b.mix({},t,true,n);}else{b.mix(q[s],t,true,n);}};for(o=p.length-1;o>=0;o--){b.Object.each(p[o].COMPONENTS,r);}b.Object.each(q,function(t,s){this.addComponent(s,t);},this);},_getRequires:function(o){o=g(o)?o:[o];var n=[];b.Array.each(o,function(p){n=n.concat(this._components.get(p,f)||[]);},this);return b.Array.unique(n);},_initComponent:function(n){this.fire(h,{componentToInit:n});},_defInitComponentFn:function(r){var q=this._components,o=r.componentToInit,p=q.get(o,e),n=q.get(o,m);if(!n&&c(p)){n=p.call(this);if(n._yuievt&&c(n.addTarget)){n.addTarget(this);}q.add(o,m,n);}r.component=n;},_defInitComponentsFn:function(p){var o=p.componentsToInit,n=this._getRequires(o);b.use.apply(b,n.concat(b.bind(function(q){q.Array.each(o,this._initComponent,this);},this)));}};b.BaseComponentMgr=d;},"gallery-2011.01.03-18-30",{requires:["base-base","collection"]});